@startuml
title UML-діаграма розгортання: Арт-хаб Ресурс (MA-тип)

left to right direction
skinparam componentStyle uml1

' =================================================================
' 1. PL (Presentation Level) - Клієнт
' =================================================================
node "<<Смартфон>>" as Client {
    node "<<OC Android / iOS>>" as OS_Mobile {
        component [ArtHub.apk / .ipa\n(Flutter/Native)] as ClientApp
        
        interface "Сенсорний екран" as Screen
        interface "Мікрофон/GPS" as Mic
        
        ClientApp -down- Screen
        ClientApp -down- Mic
    }
}

' =================================================================
' 2. BL (Business Level) - Сервер застосунків
' =================================================================
node "<<Сервер 2 (BL)>>" as BLServer {
    node "<<OC Linux>>" as BL_OS {
        node "<<Application Server\n(Java / Apache Tomcat)>>" as AppServer {
            component [REST Services\n*.jar] as BusinessLogic
        }
    }
}

' =================================================================
' 3. AL (Access Level) - Сервери даних (Розділені)
' =================================================================
node "<<Сервер 4 (AL) - SQL>>" as ALServerRel {
    node "<<OC Linux>>" as AL_OS_Rel {
        node "<<Database Server>>" {
            database "Relation DataBase (PostgreSQL)\nПрофілі, Конкурси" as RelationDB
        }
    }
}

node "<<Сервер 5 (AL) - NoSQL>>" as ALServerNoSql {
    node "<<OC Linux>>" as AL_OS_NoSql {
        node "<<Database Server>>" {
            database "JSON DataBase (MongoDB)\nSDS Дані" as JSONDB
        }
    }
}


' =================================================================
' ЗВ'ЯЗКИ (Control & Data Flow)
' =================================================================
' PL <-> BL
Client -- BLServer : <<REST/JSON>>\nПередача управління/даних

' BL <-> AL
AppServer -- ALServerRel : <<JDBC/Drivers>>\nПередача даних
AppServer -- ALServerNoSql : <<Mongo Driver>>\nПередача даних

' Зв'язки із Зовнішніми API
cloud "<<Зовнішній сервіс\nAPI (Chemius, CallForEntry)>>" as ExternalAPI

AppServer -- ExternalAPI : <<REST API>>\nПередача даних

@enduml
